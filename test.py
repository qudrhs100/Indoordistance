import numpy as np
from scipy.spatial import Voronoi, voronoi_plot_2d
import shapely.geometry
import shapely.ops
import matplotlib.pyplot as plt

# points = np.random.random((20, 2))
points = np.array([
    [94.62251465726791, 124.8433497458005],
    [94.62251465726793, 113.88115533027187],
    [93.08090517659925, 16.10363554460642],
    [121.46579627759942, 124.68703199253197],
    [121.53601033266787, 224.82660593570506],
    [127.74520995824612, 224.89881980311247],
    [250.53108835367377, 225.43389238794984],
    [326.0214327120506, 225.66847521584378],
    [361.8013951140764, 225.61096281884906],
    [367.96555559373263, 225.66874173111617],
    [444.6190831947016, 226.40637075844413],
    [559.6554080969497, 226.06826219420094],
    [564.505947915896, 226.20560458380052],
    [583.514996051087, 226.49464543218423],
    [679.4108399962387, 226.17978072264506],
    [693.184390495184, 225.99857303148505],
    [783.3910842051109, 246.53917955395426],
    [743.8778951129264, 246.557948080554],
    [666.6272356079693, 246.20820865400978],
    [627.6032942607951, 245.99722796323482],
    [561.0717149942608, 245.98962974185974],
    [535.7657800706248, 245.9896215124196],
    [522.8061940288084, 245.99567217590754],
    [474.35951153222766, 274.06896497360486],
    [462.81514511054564, 273.91622215588734],
    [434.4968486047789, 246.04143991537006],
    [365.2062187808287, 246.18426771701527],
    [324.8540378663311, 246.13516656083237],
    [272.63697285050733, 246.3689637639348],
    [232.21874423982334, 246.4412239760307],
    [207.55039020639288, 246.5998551070035],
    [167.12559679225532, 246.77355194087338],
    [92.17539464403177, 243.50162762927332],
    [92.17539464403177, 228.94507029911202],
    [92.55490467881924, 170.00745190707846],
    [92.6954660291967, 153.5032483684547]
])
# print(points)

vor = Voronoi(points)

voronoi_plot_2d(vor)
lines = [
    shapely.geometry.LineString(vor.vertices[line])
    for line in vor.ridge_vertices
    if -1 not in line
]
# print(type(lines))
for poly in shapely.ops.polygonize(lines):
    print(poly.wkt)
plt.show()

